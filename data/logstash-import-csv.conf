input {
    file {
        path => "/Users/smcallister/Projects/Java/dreadflicks/data/movies.csv"
        start_position => "beginning"
        sincedb_path => "/dev/null"
    }
}

filter {
    csv {
        columns => ["title","director","year","country","criticScore","userScore","poster","rtUrl","imdbRating","imdbKeywords"]
        separator => ","
    }
    mutate {
        convert => {
            "year" => "integer"
            "criticScore" => "integer"
            "userScore" => "integer"
            "imdbRating" => "float"
        }
    }
}

output {
    elasticsearch {
        hosts => ["localhost:9200"]
        index => "movies"
        document_type => "movie"
    }
    stdout {}
}
